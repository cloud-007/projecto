<style>
    th, tr {
        padding: 5px;
        border: 1px solid #a2a2a2;
        text-align: left;
    }
</style>
<div class="container block-body-container mb-5">
    <div id="id_design_print"
         style="border-bottom: 1px solid #d2d2d2">
        <h2 style="font-size: 24px" id="id_heading"
            class="color-primary-second">Proposal Submission List</h2>
    </div>
    <div class="table-responsive">
        <table id="data-table"
               class="table mt-2">
            <thead>
            <tr>
                <th style="font-size: 14px; text-align: start;"
                    scope="col">
                    Full Name
                </th>
                <th style="font-size: 14px; text-align: start; width: 160px;"
                    scope="col">
                    Student Id
                </th>
                <th style="font-size: 14px; text-align: start; width: 160px;"
                    scope="col">
                    Course
                </th>
                <th style="font-size: 14px; text-align: start; width: 160px;"
                    scope="col">
                    Preferred
                </th>
                <th style="font-size: 14px; text-align: start; width: 80px;"
                    scope="col">
                    Assigned
                </th>
            </tr>
            </thead>
            <tbody>
            {% for proposal in proposals %}
                {% for student in proposal.students.all %}
                    <tr>
                        <td style="font-size: 14px;">{{ student.full_name }}</td>
                        <td style="font-size: 14px;">{{ student.student_id }}</td>
                        <td style="font-size: 14px;">
                            CSE-{{ proposal.course.course_id }}</td>
                        <td style="font-size: 14px;">
                            {% for teacher in proposal.preferred_supervisors.all %}
                                {{ teacher.initials }}
                                {% if not forloop.last %}
                                    ,
                                {% endif %}
                            {% endfor %}</td>
                        <td style="font-size: 14px;">
                            {{ proposal.assigned_supervisor.initials }}
                        </td>
                    </tr>
                {% endfor %}
            {% endfor %}
            </tbody>
        </table>
    </div>

    <div id="id_footer" class="footer"
         style="position:absolute; bottom: 0; left: 0;">
        {% include 'divider.html' %}
        <p id="footer_text" class="mt-1 text-muted">Copyright 2022 @PROJECTO</p>
    </div>

</div>
<link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
        crossorigin="anonymous">

<script type="text/javascript">
    const d = new Date();
    let year = d.getFullYear();
    document.getElementById("footer_text").innerText = "Copyright " + year + " Projecto"
</script>
